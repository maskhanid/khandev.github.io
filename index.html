
<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta Data -->
    <title>JavaScript Deobfuscator</title>
    <meta charset="utf-8" />
    <meta
      name="description"
      content="A simple but powerful deobfuscator to remove common JavaScript
    obfuscation techniques"
    />
    <meta name="keywords" content="deobfuscate, deobfuscator, obfuscate, JavaScript" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet" />

    <script src="https://load.ocule.co.uk/script.js?key=440d2614-55c6-458c-a172-922926092357"></script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PK6YQBK0W0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'G-PK6YQBK0W0');
    </script>

    <!-- Links-->
    <link rel="stylesheet" href="./assets/css/main.css" />
    <link rel="stylesheet" href="./assets/codemirror/lib/codemirror.css" />
    <link rel="icon" href="/favicon.ico" />
  </head>
  <body>
    <!-- Popup modal -->
    <div
      id="popupContainer"
      class="relative z-10"
      aria-labelledby="modal-title"
      role="dialog"
      aria-modal="true"
    >
      <div id="popupBg" class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>

      <div class="fixed inset-0 z-10 overflow-y-auto">
        <div class="flex min-h-full items-end justify-center p-4 text-center items-center p-0">
          <div
            id="popupModal"
            class="relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-md sm:p-6"
          >
            <div>
              <div class="text-center">
                <h3 class="text-base font-semibold leading-6 text-gray-900" id="modal-title">
                  Notification
                </h3>
                <div class="mt-2">
                  <p class="text-sm text-gray-500">
                    Your code looks like it has been obfuscated using Obfuscator.io, would you like
                    to go to the deobfuscator specific for that?
                  </p>
                </div>
              </div>
            </div>
            <div class="mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3">
              <button
                id="popupConfirmButton"
                type="button"
                class="inline-flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 sm:col-start-2"
              >
                Yes
              </button>
              <button
                id="popupCancelButton"
                type="button"
                class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:col-start-1 sm:mt-0"
              >
                No
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <a class="banner" href="https://blog.deobfuscate.io/reversing-vmcrack" target="_blank" rel="noreferrer">
      ðŸŽ‰ New blog post: Reversing VMCrack ðŸŽ‰
    </a>

    <div class="container">

      <!-- Header -->
      <header>
        <div class="flex-container">
          <div class="left">
            <h1 class="heading">JavaScript Deobfuscator</h1>
            <h2>
              A simple but powerful deobfuscator to remove common JavaScript obfuscation techniques
            </h2>
          </div>

          <div class="link-area">
            <a href="https://blog.deobfuscate.io" target="_blank" class="blog-link">
              <img
                class="book-icon"
                src="./assets/img/book-icon.png"
                alt="Book Icon"
                draggable="false"
              />
              Blog
            </a

            </a>
            <div class="discord-button" onclick="openDiscord()">
              <img
                src="https://cdn.freebiesupply.com/logos/large/2x/discord-logo-black-and-white.png"
              />
              Discord
            </div>
            <a href="https://github.com/sd-soleaio/javascript-deobfuscator">
              <img
                class="github-logo"
                src="./assets/img/github-logo.png"
                alt="GitHub Logo"
                draggable="false"
              />
            </a>
          </div>
        </div>
      </header>

      <!-- Input & Output -->
      <section id="main">
        <div id="main-container">
          <!-- <div id="ad-1" class="ad"></div> -->

          <div class="flex-container">
            <div class="left">
              <h3 class="textarea-heading">Input</h3>
              <textarea id="input" placeholder="Enter Your JavaScript"></textarea>
              <button class="textarea-button" id="deobfuscateButton">Deobfuscate</button>
              <span id="errorMessage">There was an error deobfuscating</span>
            </div>

            <div class="right">
              <h3 class="textarea-heading">Output</h3>
              <textarea disabled id="output"></textarea>
              <div class="tooltip">
                <button class="textarea-button" id="copyButton">
                  Copy Result
                  <span class="tooltiptext" id="tooltip">Copied to Clipboard</span>
                </button>
              </div>
            </div>
          </div>

          <!-- <div id="ad-2" class="ad"></div> -->
        </div>
      </section>

      <!-- Configurations -->
      <section id="configurations">
        <h1 class="heading">Configurations</h1>

        <div class="flex-container">
          <!-- Arrays -->
          <div class="flex-item">
            <span class="heading">Arrays</span>

            <div class="checkbox-container">
              <label class="b-contain">
                <span>Unpack Arrays</span>
                <input type="checkbox" id="unpackArrays" checked="true" />
                <div class="b-input" id="arrayCheckbox1"></div>
              </label>

              <label class="b-contain">
                <span>Remove Unpacked Arrays</span>
                <input type="checkbox" id="removeArrays" checked="true" />
                <div class="b-input" id="arrayCheckbox2"></div>
              </label>
            </div>
          </div>

          <!-- Proxy Functions -->
          <div class="flex-item">
            <span class="heading">Proxy Functions</span>

            <div class="checkbox-container">
              <label class="b-contain">
                <span>Replace Proxy Functions</span>
                <input type="checkbox" id="replaceProxyFunctions" checked="true" />
                <div class="b-input" id="proxyFunctionsCheckbox1"></div>
              </label>

              <label class="b-contain">
                <span>Remove Proxy Functions</span>
                <input type="checkbox" id="removeProxyFunctions" checked="true" />
                <div class="b-input" id="proxyFunctionsCheckbox2"></div>
              </label>
            </div>
          </div>

          <!-- Expressions -->
          <div class="flex-item">
            <span class="heading">Expressions</span>

            <div class="checkbox-container">
              <label class="b-contain">
                <span>Simplify Expressions</span>
                <input type="checkbox" id="simplifyExpressions" checked="true" />
                <div class="b-input" id="expressionsCheckbox1"></div>
              </label>

              <label class="b-contain">
                <span>Remove Dead Branches</span>
                <input type="checkbox" id="removeDeadBranches" checked="true" />
                <div class="b-input" id="expressionsCheckbox2"></div>
              </label>
            </div>
          </div>

          <!-- Miscellaneous  -->
          <div class="flex-item">
            <span class="heading">Miscellaneous</span>

            <div class="checkbox-container">
              <label class="b-contain">
                <span>Beautify</span>
                <input type="checkbox" id="beautify" checked="true" />
                <div class="b-input" id="miscellaneousCheckbox2"></div>
              </label>

              <label class="b-contain">
                <span>Simplify Properties</span>
                <input type="checkbox" id="simplifyProperties" checked="true" />
                <div class="b-input" id="miscellaneousCheckbox1"></div>
              </label>

              <label class="b-contain">
                <span>Rename Hex Identifiers</span>
                <input type="checkbox" id="renameHexIdentifiers" />
                <div class="b-input" id="miscellaneousCheckbox1"></div>
              </label>
            </div>
          </div>
        </div>
      </section>
    </div>

    <script src="assets/codemirror/lib/codemirror.js"></script>
    <script src="assets/codemirror/mode/javascript/javascript.js"></script>
    <script src="assets/codemirror/addon/placeholder.js"></script>

    <script src="main.js" async></script>

    <script>
      function openDiscord() {
        window.open('https://discord.gg/KQjZx2X28n', '_blank').focus();
      }
    </script>

    <script>
      let placeholder = `// Example obfuscated code\nconst _0x38a2db = ['\\x54\\x6f\\x74a\\x6c', '\\x6c\\x6f\\x67', '\\x3a\\x20'];\nconst _0x9b58d9 = function(_0x39ddb7) {\n\treturn _0x38a2db[_0x39ddb7 + (-0x6d5 + 0x58 + 0x11 * 0x62)];\n}, _0x498b9b = function(_0x48d808, _0x14da1e) {\n    return _0x9b58d9(_0x48d808);\n}, _0x34c7bc = function(_0x16af1d, _0x27a29e) {\n    return _0x498b9b(_0x16af1d);\n}, _0x23a1 = _0x34c7bc;\nlet total = 0x2 * 0x109e + -0xc * -0x16a + -0x3234;\nfor (let i = 0x1196 + 0x97b * 0x3 + -0x2e07; i < -0x95 * -0x38 + -0x1a75 + -0x619; i++) {\n\ttotal += i;\n}\nconsole[_0x34c7bc(-(0x1e7c + -0x1 * -0x1367 + 0x2ef * -0x11))](_0x498b9b(-(0x1020 + 0x253 + 0x7 * -0x2a2)) + _0x23a1(-(0x12c5 + -0x1887 + -0x1 * -0x5c5)) + total);`;
      document.getElementById('input').value = placeholder;
      window.inputEditor = CodeMirror.fromTextArea(document.getElementById('input'), {
        mode: 'javascript',
        lineNumbers: true,
        indentUnit: 4,
      });
      window.outputEditor = CodeMirror.fromTextArea(document.getElementById('output'), {
        mode: 'javascript',
        lineNumbers: true,
        indentUnit: 4,
        readOnly: true,
      });
    </script>

    <script>
      function verify() {
        return new Promise((resolve) => {
          fetch('/val').then((res) => resolve(res.status == 200));
        });
      }
    </script>

    <script>
      const outputTextArea = document.getElementById('output');
      const copyBtn = document.getElementById('copyButton');
      const deobfuscateBtn = document.getElementById('deobfuscateButton');
      const tooltip = document.getElementById('tooltip');
      const errorMessage = document.getElementById('errorMessage');

      deobfuscateBtn.addEventListener('click', function () {
        errorMessage.style.display = 'none';
        const source = window.inputEditor.getValue();
        const output = deobfuscator.deobfuscate(source, getConfig());
        window.outputEditor.setValue(output);
        verify();
      });

      copyBtn.addEventListener('click', function myFunction() {
        copyToClipboard(window.outputEditor.getValue());

        tooltip.style.visibility = 'visible';
        tooltip.style.opacity = '1';

        copyBtn.addEventListener('mouseout', function () {
          tooltip.style.visibility = 'hidden';
          tooltip.style.opacity = '0';
        });
      });

      function getConfig() {
        return {
          arrays: {
            unpackArrays: document.getElementById('unpackArrays').checked,
            removeArrays: document.getElementById('removeArrays').checked,
          },
          proxyFunctions: {
            replaceProxyFunctions: document.getElementById('replaceProxyFunctions').checked,
            removeProxyFunctions: document.getElementById('removeProxyFunctions').checked,
          },
          expressions: {
            simplifyExpressions: document.getElementById('simplifyExpressions').checked,
            removeDeadBranches: document.getElementById('removeDeadBranches').checked,
          },
          miscellaneous: {
            beautify: document.getElementById('beautify').checked,
            simplifyProperties: document.getElementById('simplifyProperties').checked,
            renameHexIdentifiers: document.getElementById('renameHexIdentifiers').checked,
          },
        };
      }

      function copyToClipboard(text) {
        var textArea = document.createElement('textarea');
        textArea.value = text;

        textArea.style.top = '0';
        textArea.style.left = '0';
        textArea.style.position = 'fixed';

        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();

        document.execCommand('copy');
        document.body.removeChild(textArea);
      }
    </script>

    <script>
      const popupContainer = document.getElementById('popupContainer');
      const popupBg = document.getElementById('popupBg');
      const popupModal = document.getElementById('popupModal');
      let hasShownPopup = false;

      function showPopup() {
        if (!hasShownPopup) {
          hasShownPopup = true;
          popupContainer.classList.add('shown');
          popupBg.classList.add('shown');
          popupModal.classList.add('shown');
        }
      }
      function hidePopup() {
        popupContainer.classList.remove('shown');
        popupBg.classList.remove('shown');
        popupModal.classList.remove('shown');
      }

      document.getElementById('popupConfirmButton').addEventListener('click', function () {
        window.open('https://obf-io.deobfuscate.io', '_blank').focus();
        hidePopup();
      });
      document.getElementById('popupCancelButton').addEventListener('click', hidePopup);

      function detectObfuscatorIo(code) {
        if (code && /_0x[0-9e-f]+/.test(code) && code != placeholder) {
          showPopup();
        }
      }

      document.getElementById('deobfuscateButton').addEventListener('click', function () {
        const code = inputEditor.getValue();
        detectObfuscatorIo(code);
      });
      inputEditor.on('paste', function (_, change) {
        if (change && change.clipboardData && typeof change.clipboardData.getData == 'function') {
          const code = change.clipboardData.getData('text');
          detectObfuscatorIo(code);
        }
      });
    </script>

    <!-- <script>
      fetch('/ads').then((res) =>
        res.json().then((data) => {
          for (let i = 0; i < 2; i++) {
            const ad = data[i];

            const a = document.createElement('a');
            a.href = ad.link;

            const img = document.createElement('img');
            img.src = ad.imageUrl;
            img.style.width = '100%';
            img.style.height = '100%';
            a.appendChild(img);

            const element = document.getElementById(`ad-${i + 1}`);
            element.appendChild(a);
          }
        }),
      );
    </script> -->
  </body>
</html>
